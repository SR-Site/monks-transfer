id: network_node
label: JSON feed of network
migration_group: migrate_shows_json
source:
  plugin: spectrum_url
  data_fetcher_plugin: spectrum_http
  data_parser_plugin: json_nested
  item_selector: '/Result/'
  sub_selector: 'Network'
  fields:
    -
      name: Callsign
      label: 'Callsign'
      selector: Callsign
    -
      name: Stationname
      label: 'Stationname'
      selector: Stationname
    -
      name: Stationnum
      label: 'Stationnum'
      selector: Stationnum
    -
      name: Image
      label: 'Image'
      selector: Image
    -
      name: Description
      label: 'Description'
      selector: Description

  ids:
    Stationnum:
      type: integer

process:
  type:
    plugin: default_value
    default_value: network

  title: Stationname

  field_network/target_id:
    plugin: migration_lookup
    no_stub: true
    migration: network
    source: Stationnum

  sticky:
    plugin: default_value
    default_value: 0

  status:
    plugin: default_value
    default_value: 1

  uid:
    plugin: default_value
    default_value: 1

destination:
  plugin: 'entity:node'
migration_dependencies:
  optional:
    - network